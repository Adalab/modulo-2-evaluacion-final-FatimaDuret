const u=document.querySelector(".js_btn-search"),m=document.querySelector(".js_btn-reset"),o=document.querySelector(".js_fav-list"),a=document.querySelector(".js_search"),v=document.querySelector(".js_result-list");let l=[],r=[];const D=s=>{let t="";return t=`<li class="js_drinks ${r.findIndex(n=>n.id===s.idDrink)===-1?"":"fav"}" id="${s.idDrink}">
              <h4>${s.strDrink}</h4>
              <img src="${s.strDrinkThumb}" alt="${s.strDrink}" class="js_drink-img">
            </li>`,t},g=s=>{const t=s.currentTarget.id,i=l.find(n=>n.idDrink===t),e=r.findIndex(n=>n.idDrink===t);if(e===-1){r.push(i),s.currentTarget.classList.add("fav");const n=document.createElement("li");n.classList.add("js_drinks","fav"),n.id=t,n.innerHTML=`<h4>${i.strDrink}</h4>
                                 <img src="${i.strDrinkThumb}" alt="${i.strDrink}" class="js_drink-img">`,o.appendChild(n)}else r.splice(e,1),s.currentTarget.classList.remove("fav"),document.getElementById(t).remove();c(l),localStorage.setItem("favDrinks",JSON.stringify(r))},c=s=>{let t="";for(let e=0;e<s.length;e++){const k=r.find(f=>f.idDrink===s[e].idDrink)!==void 0?"fav":"";t+=`<li class="js_drinks ${k}" id="${s[e].idDrink}">
                            <h4>${s[e].strDrink}</h4>
                            <img src="${s[e].strDrinkThumb}" alt="${s[e].strDrink}" class="js_drink-img">
                        </li>`}v.innerHTML=t,document.querySelectorAll(".js_drinks").forEach(e=>{e.addEventListener("click",n=>{g(n),e.classList.contains("fav")||e.classList.add("fav")})})},L=s=>{let t="";for(const i of s)t+=D(i);o.innerHTML=t},d=s=>{console.log(s),fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${s}`).then(t=>t.json()).then(t=>{l=t.drinks,c(l),localStorage.setItem("drinks",JSON.stringify(l))})},h=s=>{s.preventDefault();const t=a.value.toLowerCase().trim();console.log(a.value);let i=[];if(r.length>0&&(i=r.filter(e=>e.strDrink.toLowerCase().includes(t))),l.length>0){const e=l.filter(n=>n.strDrink.toLowerCase().includes(t));i=i.concat(e)}if(i.length===0){d(t);return}c(i)},S=()=>{const s=localStorage.getItem("favDrinks");s!==null&&(r=JSON.parse(s),L(r));const t=localStorage.getItem("drinks");t!==null?(l=JSON.parse(t),c(l)):d("margarita"),m.addEventListener("click",()=>{o.innerHTML="",r=[],localStorage.removeItem("favDrinks")})};S();u.addEventListener("click",h);
//# sourceMappingURL=main.js.map
