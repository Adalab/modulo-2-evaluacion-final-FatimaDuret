const m=document.querySelector(".js_btn-search"),v=document.querySelector(".js_btn-reset"),c=document.querySelector(".js_fav-list"),d=document.querySelector(".js_search"),u=document.querySelector(".js_result-list");let l=[],r=[];const D=e=>{let s="";return s=`<li class="js_drinks ${r.findIndex(i=>i.id===e.idDrink)===-1?"":"fav"}" id="${e.idDrink}">
              <h4>${e.strDrink}</h4>
              <img src="${e.strDrinkThumb}" alt="${e.strDrink}" class="js_drink-img">
            </li>`,s},L=e=>{const s=e.currentTarget.id,n=l.find(i=>i.idDrink===s),t=r.findIndex(i=>i.idDrink===s);if(t===-1){r.push(n),e.currentTarget.classList.add("fav");const i=document.createElement("li");i.classList.add("js_drinks","fav"),i.id=s,i.innerHTML=`<h4>${n.strDrink}</h4>
                                 <img src="${n.strDrinkThumb}" alt="${n.strDrink}" class="js_drink-img">`,c.appendChild(i)}else r.splice(t,1),e.currentTarget.classList.remove("fav"),document.getElementById(s).remove();a(l),localStorage.setItem("favDrinks",JSON.stringify(r))},a=e=>{let s="";for(let t=0;t<e.length;t++){const k=r.find(f=>f.idDrink===e[t].idDrink)!==void 0?"fav":"";s+=`<li class="js_drinks ${k}" id="${e[t].idDrink}">
                            <h4>${e[t].strDrink}</h4>
                            <img src="${e[t].strDrinkThumb}" alt="${e[t].strDrink}" class="js_drink-img">
                        </li>`}u.innerHTML=s,document.querySelectorAll(".js_drinks").forEach(t=>{t.addEventListener("click",i=>{L(i),t.classList.contains("fav")||t.classList.add("fav")})})},h=e=>{let s="";for(const n of e)s+=D(n);c.innerHTML=s,e.forEach(n=>{const t=document.getElementById(n.idDrink);t&&t.classList.add("fav")})},g=document.querySelectorAll(".js_clear-favs");g.forEach(e=>{e.addEventListener("click",()=>{c.innerHTML="",r=[],localStorage.removeItem("favDrinks")})});const o=e=>{fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${e}`).then(s=>s.json()).then(s=>{l=s.drinks,a(l),localStorage.setItem("drinks",JSON.stringify(l))})},S=e=>{e.preventDefault();const s=d.value.toLowerCase().trim();let n=[];if(r.length>0&&(n=r.filter(t=>t.strDrink.toLowerCase().includes(s))),l.length>0){const t=l.filter(i=>i.strDrink.toLowerCase().includes(s));n=n.concat(t)}if(n.length===0){o(s);return}a(n)},j=()=>{const e=localStorage.getItem("favDrinks");e!==null&&(r=JSON.parse(e),h(r),r.forEach(n=>{const t=document.getElementById(n.idDrink);t&&t.classList.add("fav")}));let s=localStorage.getItem("drinks");s===null||d.value.trim()===""?o("margarita"):(l=JSON.parse(s),a(l)),v.addEventListener("click",()=>{c.innerHTML="",r=[],localStorage.removeItem("favDrinks"),document.querySelectorAll(".js_drinks").forEach(t=>{t.classList.remove("fav")}),o("margarita")})};j();m.addEventListener("click",S);
//# sourceMappingURL=main.js.map
