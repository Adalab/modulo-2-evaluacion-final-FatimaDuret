const m=document.querySelector(".js_btn-search"),u=document.querySelector(".js_btn-reset"),o=document.querySelector(".js_fav-list"),d=document.querySelector(".js_search"),v=document.querySelector(".js_result-list");let l=[],r=[];const D=e=>{let s="";return s=`<li class="js_drinks ${r.findIndex(n=>n.id===e.idDrink)===-1?"":"fav"}" id="${e.idDrink}">
              <h4>${e.strDrink}</h4>
              <img src="${e.strDrinkThumb}" alt="${e.strDrink}" class="js_drink-img">
            </li>`,s},L=e=>{const s=e.currentTarget.id,i=l.find(n=>n.idDrink===s),t=r.findIndex(n=>n.idDrink===s);if(t===-1){r.push(i),e.currentTarget.classList.add("fav");const n=document.createElement("li");n.classList.add("js_drinks","fav"),n.id=s,n.innerHTML=`<h4>${i.strDrink}</h4>
                                 <img src="${i.strDrinkThumb}" alt="${i.strDrink}" class="js_drink-img">`,o.appendChild(n)}else r.splice(t,1),e.currentTarget.classList.remove("fav"),document.getElementById(s).remove();c(l),localStorage.setItem("favDrinks",JSON.stringify(r))},c=e=>{let s="";for(let t=0;t<e.length;t++){const k=r.find(f=>f.idDrink===e[t].idDrink)!==void 0?"fav":"";s+=`<li class="js_drinks ${k}" id="${e[t].idDrink}">
                            <h4>${e[t].strDrink}</h4>
                            <img src="${e[t].strDrinkThumb}" alt="${e[t].strDrink}" class="js_drink-img">
                        </li>`}v.innerHTML=s,document.querySelectorAll(".js_drinks").forEach(t=>{t.addEventListener("click",n=>{L(n),t.classList.contains("fav")||t.classList.add("fav")})})},h=e=>{let s="";for(const i of e)s+=D(i);o.innerHTML=s,e.forEach(i=>{const t=document.getElementById(i.idDrink);t&&t.classList.add("fav")})},a=e=>{fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${e}`).then(s=>s.json()).then(s=>{l=s.drinks,c(l),localStorage.setItem("drinks",JSON.stringify(l))})},g=e=>{e.preventDefault();const s=d.value.toLowerCase().trim();let i=[];if(r.length>0&&(i=r.filter(t=>t.strDrink.toLowerCase().includes(s))),l.length>0){const t=l.filter(n=>n.strDrink.toLowerCase().includes(s));i=i.concat(t)}if(i.length===0){a(s);return}c(i)},S=()=>{const e=localStorage.getItem("favDrinks");e!==null&&(r=JSON.parse(e),h(r),r.forEach(i=>{const t=document.getElementById(i.idDrink);t&&t.classList.add("fav")}));let s=localStorage.getItem("drinks");s===null||d.value.trim()===""?a("margarita"):(l=JSON.parse(s),c(l)),u.addEventListener("click",()=>{o.innerHTML="",r=[],localStorage.removeItem("favDrinks"),document.querySelectorAll(".js_drinks").forEach(t=>{t.classList.remove("fav")}),a("margarita")})};S();m.addEventListener("click",g);
//# sourceMappingURL=main.js.map
